# Интеграция с Google Calendar API

Этот раздел содержит инструкции по настройке интеграции с Google Calendar API для автоматического добавления записей в календарь.

## Шаги по настройке

### 1. Создание проекта в Google Cloud Platform

1. Перейдите в [Google Cloud Console](https://console.cloud.google.com/)
2. Создайте новый проект или выберите существующий
3. Активируйте Google Calendar API:
   - В меню слева выберите "APIs & Services" > "Library"
   - Найдите "Google Calendar API" и активируйте его

### 2. Создание сервисного аккаунта

1. В меню слева выберите "APIs & Services" > "Credentials"
2. Нажмите "Create Credentials" и выберите "Service Account"
3. Заполните необходимые данные и создайте сервисный аккаунт
4. Перейдите к созданному сервисному аккаунту и во вкладке "Keys" создайте новый ключ формата JSON
5. Скачайте и сохраните этот файл с ключом в безопасном месте

### 3. Настройка доступа к календарю

1. Перейдите в [Google Calendar](https://calendar.google.com/)
2. Найдите нужный календарь в меню слева
3. Нажмите на три точки возле календаря и выберите "Settings and sharing"
4. Прокрутите вниз до раздела "Share with specific people or groups"
5. Нажмите "Add people" и добавьте email сервисного аккаунта, который вы создали
6. Выберите права доступа "Make changes to events" или выше
7. Сохраните настройки

### 4. Настройка переменных окружения

Откройте файл `.env` в корне проекта и обновите следующие переменные:

```
GOOGLE_CLIENT_EMAIL=your-service-account@project-id.iam.gserviceaccount.com
GOOGLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----\n"
GOOGLE_CALENDAR_ID=your_calendar_id@group.calendar.google.com
```

- `GOOGLE_CLIENT_EMAIL`: Email сервисного аккаунта из созданного JSON-файла
- `GOOGLE_PRIVATE_KEY`: Приватный ключ из JSON-файла (включая начало и конец)
- `GOOGLE_CALENDAR_ID`: ID календаря (можно найти в настройках календаря в разделе "Integrate calendar" > "Calendar ID")

## Проверка работоспособности

После выполнения всех настроек, при выборе даты и времени и нажатии кнопки "Подтвердить" в приложении, запись должна автоматически добавляться в указанный Google Calendar.

## Решение проблем

Если автоматическое добавление в календарь не работает:

1. Проверьте консоль на наличие ошибок
2. Убедитесь, что все переменные окружения заполнены правильно
3. Убедитесь, что сервисный аккаунт имеет необходимые права доступа к календарю
4. Проверьте, что пути API в клиентском коде соответствуют серверным эндпоинтам 